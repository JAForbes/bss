{"version":3,"file":"bss.js","sources":["lib/utils.js","lib/sheet.js","lib/index.js","lib/popular.js","lib/keyframes.js","lib/pseudos.js"],"sourcesContent":["import popular from './popular'\n\nconst shorts = Object.create(null)\n\nexport const cssProperties = Object.keys(\n  findWidth(document.documentElement.style)\n).filter(prop => typeof document.documentElement.style[prop] === 'string')\n\nfunction findWidth(obj) {\n  return obj.hasOwnProperty('width')\n    ? obj\n    : findWidth(Object.getPrototypeOf(obj))\n}\n\nexport const vendorMap = Object.create(null, {})\n\nexport const vendorRegex = /^(o|O|ms|MS|Ms|moz|Moz|webkit|Webkit|WebKit)([A-Z])/\n\nconst edge = window.navigator.userAgent.indexOf('Edge') > -1\n\nfunction endsWith(str, suffix) {\n  return str.indexOf(suffix, str.length - suffix.length) > -1\n}\n\n// Figure out recognizing shorthands (eg gridGap)\nconst lengthValues = (function() {\n  const el = document.createElement('div')\n\n  return cssProperties.filter(prop => {\n    try {\n      el.style[prop] = '1px'\n      el.style.setProperty(prop, '1px')\n    } catch (err) {\n      return\n    }\n\n    return endsWith(!edge && el.style[prop] || el.style.getPropertyValue(prop), 'px')\n  }).concat('gridGap')\n}())\n\nexport function lowercaseFirst(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1)\n}\n\nexport function assign(obj, obj2) {\n  for (const key in obj2) {\n    if (obj2.hasOwnProperty(key))\n      obj[key] = obj2[key]\n  }\n}\n\nexport function hyphenToCamelCase(hyphen) {\n  return hyphen.replace(/-([a-z])/g, function(match) {\n    return match[1].toUpperCase()\n  })\n}\n\nexport function camelCaseToHyphen(camelCase) {\n  return camelCase.replace(/([A-Z])/g, '-$1').toLowerCase()\n}\n\nexport function initials(camelCase) {\n  return camelCase.charAt(0) + (camelCase.match(/([A-Z])/g) || []).join('').toLowerCase()\n}\n\nexport function short(prop) {\n  const acronym = initials(prop)\n      , short = popular[acronym] && popular[acronym] !== prop ? prop : acronym\n\n  shorts[short] = prop\n  return short\n}\n\nexport function getStyleSheetText(classes) {\n  return Object.keys(classes).sort().map(key => {\n    return key.replace(/CLASS_NAME/g, classes[key])\n  }).join('')\n}\n\nexport function objectToCss(style) {\n  const atRules = []\n      , nested = []\n\n  let notEmpty = false\n\n  Object.keys(style).forEach(item => {\n    if (item.charAt(0) === '@') {\n      atRules.push([item, style[item]])\n      delete style[item]\n    } else if (item.charAt(0) === ' ' || item.charAt(0) === ':') {\n      nested.push([item, style[item]])\n      delete style[item]\n    } else {\n      notEmpty = true\n    }\n  })\n\n  return (notEmpty ? selectorToStyle('.CLASS_NAME', style) : '')\n  + nested.map(([target, style]) =>\n    selectorToStyle('.CLASS_NAME' + target, style)\n  ).join('')\n\n  + atRules.map(([atRule, style]) =>\n    atRule + '{' + selectorToStyle('.CLASS_NAME', style) + '}'\n  ).join('')\n}\n\nexport function selectorToStyle(selector, style) {\n  return selector + '{'\n    + stylesToCss((typeof style === 'string' ? stringToObject(style) : style.style || style))\n    + '}'\n}\n\nexport function stylesToCss(style) {\n  return Object.keys(sanitize(style)).map(k => propToString(style, k)).join('')\n}\n\nexport function sanitize2(styles) {\n  return Object.keys(styles).reduce((acc, k) => {\n    const value = styles[k]\n\n    if (!value && value !== 0 && value !== '')\n      return acc\n\n    if (k === 'content' && value.charAt(0) !== '\"')\n      acc[k] = '\"' + value + '\"'\n    else\n      acc[k in vendorMap ? vendorMap[k] : k] = addPx(k, value)\n\n    return acc\n  }, {})\n}\n\nexport function sanitize(styles) {\n  Object.keys(styles).forEach(k => {\n    if (k in vendorMap) {\n      styles[vendorMap[k]] = styles[k]\n      delete styles[k]\n    }\n\n    const value = styles[k]\n    if (!value && value !== 0 && value !== '') {\n      delete styles[k]\n      return\n    }\n\n    if (k === 'content' && value.charAt(0) !== '\"')\n      styles[k] = '\"' + value + '\"'\n    else\n      styles[k] = addPx(k, value)\n  })\n\n  return styles\n}\n\nexport function stringToObject(string) {\n  return string.indexOf(';') > -1\n       ? cssToObject(string)\n       : stylusToObject(string)\n}\n\nfunction cssToObject(string) {\n  return string.split(';').reduce((acc, line) => {\n    const [prop, value] = line.trim().split(':')\n    if (prop && value)\n      acc[hyphenToCamelCase(prop.trim())] = value.trim()\n    return acc\n  }, {})\n}\n\nfunction stylusToObject(string) {\n  return string.split('\\n').reduce((acc, line) => {\n    const tokens = line.trim().split(' ')\n    if (tokens.length > 1) {\n      const key = hyphenToCamelCase(tokens.shift().trim())\n      acc[shorts[key] || key] = tokens.join(' ').trim()\n    }\n    return acc\n  }, {})\n}\n\nexport function readClasses(sheet) {\n  throw new Error('not implemented')\n}\n\nfunction propToString(style, k) {\n  return (vendorRegex.test(k) ? '-' : '')\n  + camelCaseToHyphen(k) + ':' + addPx(k, style[k]) + ';'\n}\n\nfunction addPx(key, value) {\n  return value + (typeof value === 'number' && lengthValues.indexOf(key) > -1 ? 'px' : '')\n}\n","import { objectToCss, getStyleSheetText } from './utils'\n\nconst styleSheet = document.createElement('style')\nconst classes = Object.create(null, {})\n\nlet prefix = ''\nlet count = 0\nlet scheduled = false\n\nconst Promise = window.Promise || {\n  resolve: () => ({ then: (fn) => setTimeout(fn, 0) })\n}\n\ndocument.head.appendChild(styleSheet)\n\nexport const classPrefix = 'b' + ('000' + ((Math.random() * 46656) | 0).toString(36)).slice(-3) +\n                    ('000' + ((Math.random() * 46656) | 0).toString(36)).slice(-3)\n\nexport function forceUpdate() {\n  scheduled = false\n\n  styleSheet.textContent = prefix + getStyleSheetText(classes)\n}\n\nexport function prepend(string) {\n  prefix += String(string)\n}\n\nexport function createClass(style) {\n  const css = objectToCss(style)\n\n  if (css in classes) // Cconsider caching json for performance\n    return classes[css]\n\n  const className = classPrefix + (++count)\n\n  classes[css] = className\n\n  scheduleUpdate()\n\n  return className\n}\n\nfunction scheduleUpdate() {\n  if (scheduled)\n    return\n\n  scheduled = true\n  Promise.resolve().then(forceUpdate)\n}\n","import keyframes from './keyframes'\nimport pseudos from './pseudos'\n\nimport {\n  forceUpdate,\n  createClass,\n  prepend\n} from './sheet'\n\nimport {\n  hyphenToCamelCase,\n  selectorToStyle,\n  lowercaseFirst,\n  stringToObject,\n  cssProperties,\n  readClasses,\n  vendorRegex,\n  vendorMap,\n  sanitize,\n  assign,\n  short\n} from './utils'\n\nconst debug = true\n\nlet cached = {}\nlet style = {}\n\nfunction bss(a) {\n  if (Array.isArray(a) && Array.isArray(a.raw)) {\n    arguments[0] = { raw: arguments[0] }\n    assign(style, stringToObject(String.raw.apply(null, arguments)))\n  } else {\n    for (let i = 0; i < arguments.length; i++) {\n      if (typeof arguments[i] === 'string')\n        assign(style, stringToObject(arguments[i]))\n      else if (typeof arguments[i] === 'object')\n        assign(style, arguments[i].style || arguments[i])\n    }\n  }\n\n  return bss\n}\n\nbss.toString = () => '.' + bss.class\nbss.forceUpdate = forceUpdate\nbss.$keyframes = keyframes\nbss.prepend = prepend\nbss.helper = helper\nbss.css = css\n\ncssProperties.forEach(prop => {\n  if (vendorRegex.test(prop)) {\n    const unprefixed = lowercaseFirst(prop.replace(vendorRegex, '$2'))\n    if (cssProperties.indexOf(unprefixed) === -1) {\n      vendorMap[unprefixed] = prop\n      return addSetter(unprefixed, prop)\n    }\n  }\n\n  addSetter(prop)\n})\n\naddGetter('style', () => {\n  const sanitized = sanitize(style)\n  style = {}\n  return sanitized\n})\n\naddGetter('class', () => {\n  const className = createClass(style)\n  style = {}\n  return className\n})\n\naddGetter('$animate', cache((value, props) => {\n  style = cached\n  bss.animation(bss.$keyframes(props) + ' ' + value)\n  return bss\n}))\n\naddGetter('$media', cache((value, b) =>\n  add('@media ' + value, b.style || b)\n))\n\naddGetter('$nest', cache((value, b) =>\n    add((value.indexOf(':') === 0 ? '' : ' ') + value, b.style || b)\n))\n\npseudos.forEach(name =>\n  addGetter('$' + hyphenToCamelCase(name), cache((value, b) =>\n    add(':' + name + (b ? '(' + value + ')' : ''), b ? b.style || b : value.style || value)\n  ))\n)\n\nfunction addSetter(name, prop) {\n  bss[name] = bss[short(name)] = setter(prop || name)\n}\n\nfunction setter(prop) {\n  return function cssProperty(value) {\n    style[prop] = typeof value === 'undefined' ? false : value\n    return bss\n  }\n}\n\nfunction css(selector, style) {\n  prepend(selectorToStyle(selector, style.style || style))\n}\n\nfunction add(key, value) {\n  style = cached\n  style[key] = value\n  return bss\n}\n\nfunction cache(fn) {\n  return function() {\n    cached = style\n    style = {}\n    return fn\n  }\n}\n\nfunction addGetter(name, fn) {\n  Object.defineProperty(bss, name, {\n    get: fn\n  })\n}\n\nfunction helper(name, styling) {\n  if (arguments.length === 1)\n    return readClasses(name)\n\n  if (typeof styling !== 'function') {\n    delete bss[name] // Needed to avoid weird get calls in chrome\n    addGetter(name, () => {\n      assign(style, styling)\n      return bss\n    })\n    return\n  }\n\n  bss[name] = function Helper() {\n    assign(style, styling.apply(null, arguments))\n    return bss\n  }\n}\n\nexport default bss\n","export default {\n  d  : 'display',\n  bc : 'backgroundColor',\n  b  : 'border',\n  bt : 'borderTop',\n  bl : 'borderLeft',\n  br : 'borderRight',\n  bb : 'borderBottom',\n  h  : 'height',\n  w  : 'width',\n  c  : 'color',\n  o  : 'opacity',\n  fs : 'fontSize',\n  m  : 'margin',\n  mt : 'marginTop',\n  ml : 'marginLeft',\n  mr : 'marginRight',\n  mb : 'marginBottom',\n  p  : 'padding',\n  pt : 'paddingTop',\n  pl : 'paddingLeft',\n  pr : 'paddingRight',\n  pb : 'paddingBottom',\n  bs : 'boxShadow',\n  ta : 'textAlign',\n  tt : 'textTransform',\n  ff : 'fontFamily',\n  t  : 'transform'\n}\n","import { selectorToStyle } from './utils'\nimport { prepend, classPrefix } from './sheet'\n\nlet count = 0\nconst keyframeCache = {}\n\nexport default function(props) {\n  const content = Object.keys(props).map(key =>\n    selectorToStyle(key, props[key])\n  ).join('')\n\n  if (content in keyframeCache)\n    return keyframeCache[content]\n\n  const name = classPrefix + ++count\n  keyframeCache[content] = name\n  prepend('@keyframes ' + name + '{' + content + '}')\n\n  return name\n}\n","export default [\n  'active',\n  'any',\n  'checked',\n  'default',\n  'disabled',\n  'empty',\n  'enabled',\n  'first',\n  'first-child',\n  'first-of-type',\n  'fullscreen',\n  'focus',\n  'hover',\n  'indeterminate',\n  'in-range',\n  'invalid',\n  'last-child',\n  'last-of-type',\n  'left',\n  'link',\n  'only-child',\n  'only-of-type',\n  'optional',\n  'out-of-range',\n  'read-only',\n  'read-write',\n  'required',\n  'right',\n  'root',\n  'scope',\n  'target',\n  'valid',\n  'visited',\n\n  // With value\n  'dir',\n  'lang',\n  'not',\n  'nth-child',\n  'nth-last-child',\n  'nth-last-of-type',\n  'nth-of-type',\n\n  // Elements\n  'after',\n  'before',\n  'first-letter',\n  'first-line',\n  'selection',\n  'backdrop',\n  'placeholder',\n  'marker',\n  'spelling-error',\n  'grammar-error'\n]\n"],"names":["findWidth","obj","hasOwnProperty","Object","getPrototypeOf","endsWith","str","suffix","indexOf","length","lowercaseFirst","string","charAt","toLowerCase","slice","assign","obj2","const","key","hyphenToCamelCase","hyphen","replace","match","toUpperCase","camelCaseToHyphen","camelCase","initials","join","short","prop","acronym","popular","shorts","getStyleSheetText","classes","keys","sort","map","objectToCss","style","atRules","nested","notEmpty","forEach","item","push","selectorToStyle","ref","selector","stylesToCss","stringToObject","sanitize","k","propToString","styles","vendorMap","value","addPx","cssToObject","stylusToObject","split","reduce","acc","line","trim","tokens","shift","readClasses","sheet","Error","vendorRegex","test","lengthValues","forceUpdate","scheduled","styleSheet","textContent","prefix","prepend","String","createClass","css","className","classPrefix","count","scheduleUpdate","Promise","resolve","then","bss","a","Array","isArray","raw","arguments","apply","let","i","addSetter","name","setter","add","cached","cache","fn","addGetter","defineProperty","get","d","bc","b","bt","bl","br","bb","h","w","c","o","fs","m","mt","ml","mr","mb","p","pt","pl","pr","pb","bs","ta","tt","ff","t","create","cssProperties","document","documentElement","filter","edge","window","navigator","userAgent","el","createElement","setProperty","err","getPropertyValue","concat","setTimeout","head","appendChild","Math","random","toString","keyframeCache","class","$keyframes","props","content","helper","styling","unprefixed","sanitized","animation","pseudos"],"mappings":"6KAQA,SAASA,EAAUC,GACjB,OAAOA,EAAIC,eAAe,SACtBD,EACAD,EAAUG,OAAOC,eAAeH,IAStC,SAASI,EAASC,EAAKC,GACrB,OAAOD,EAAIE,QAAQD,EAAQD,EAAIG,OAASF,EAAOE,SAAW,EAmB5D,SAAgBC,EAAeC,GAC7B,OAAOA,EAAOC,OAAO,GAAGC,cAAgBF,EAAOG,MAAM,GAGvD,SAAgBC,EAAOd,EAAKe,GAC1B,IAAKC,IAAMC,KAAOF,EACZA,EAAKd,eAAegB,KACtBjB,EAAIiB,GAAOF,EAAKE,IAItB,SAAgBC,EAAkBC,GAChC,OAAOA,EAAOC,QAAQ,YAAa,SAASC,GAC1C,OAAOA,EAAM,GAAGC,gBAIpB,SAAgBC,EAAkBC,GAChC,OAAOA,EAAUJ,QAAQ,WAAY,OAAOR,cAG9C,SAAgBa,EAASD,GACvB,OAAOA,EAAUb,OAAO,IAAMa,EAAUH,MAAM,iBAAmBK,KAAK,IAAId,cAG5E,SAAgBe,EAAMC,GACpBZ,IAAMa,EAAUJ,EAASG,GACnBD,EAAQG,EAAQD,IAAYC,EAAQD,KAAaD,EAAOA,EAAOC,EAGrE,OADAE,EAAOJ,GAASC,EACTD,EAGT,SAAgBK,EAAkBC,GAChC,OAAO/B,OAAOgC,KAAKD,GAASE,OAAOC,IAAI,SAAAnB,GACrC,OAAOA,EAAIG,QAAQ,cAAea,EAAQhB,MACzCS,KAAK,IAGV,SAAgBW,EAAYC,GAC1BtB,IAAMuB,KACAC,KAEFC,GAAW,EAcf,OAZAvC,OAAOgC,KAAKI,GAAOI,QAAQ,SAAAC,GACF,MAAnBA,EAAKhC,OAAO,IACd4B,EAAQK,MAAMD,EAAML,EAAMK,YACnBL,EAAMK,IACe,MAAnBA,EAAKhC,OAAO,IAAiC,MAAnBgC,EAAKhC,OAAO,IAC/C6B,EAAOI,MAAMD,EAAML,EAAMK,YAClBL,EAAMK,IAEbF,GAAW,KAIPA,EAAWI,EAAgB,cAAeP,GAAS,IACzDE,EAAOJ,IAAI,SAACU,UACZD,EAAgB,2BAChBnB,KAAK,IAELa,EAAQH,IAAI,SAACU,eACJ,IAAMD,EAAgB,oBAAwB,MACvDnB,KAAK,IAGT,SAAgBmB,EAAgBE,EAAUT,GACxC,OAAOS,EAAW,IACdC,EAA8B,iBAAVV,EAAqBW,EAAeX,GAASA,EAAMA,OAASA,GAChF,IAGN,SAAgBU,EAAYV,GAC1B,OAAOpC,OAAOgC,KAAKgB,EAASZ,IAAQF,IAAI,SAAAe,UAAKC,EAAad,EAAOa,KAAIzB,KAAK,IAmB5E,SAAgBwB,EAASG,GAmBvB,OAlBAnD,OAAOgC,KAAKmB,GAAQX,QAAQ,SAAAS,GACtBA,KAAKG,IACPD,EAAOC,EAAUH,IAAME,EAAOF,UACvBE,EAAOF,IAGhBnC,IAAMuC,EAAQF,EAAOF,GAChBI,GAAmB,IAAVA,GAAyB,KAAVA,EAKnB,YAANJ,GAAuC,MAApBI,EAAM5C,OAAO,GAClC0C,EAAOF,GAAK,IAAMI,EAAQ,IAE1BF,EAAOF,GAAKK,EAAML,EAAGI,UAPdF,EAAOF,KAUXE,EAGT,SAAgBJ,EAAevC,GAC7B,OAAOA,EAAOH,QAAQ,MAAQ,EACvBkD,EAAY/C,GACZgD,EAAehD,GAGxB,SAAS+C,EAAY/C,GACnB,OAAOA,EAAOiD,MAAM,KAAKC,OAAO,SAACC,EAAKC,GACpC,MAAsBA,EAAKC,OAAOJ,MAAM,KAAjC/B,OAAM2B,OAGb,OAFI3B,GAAQ2B,IACVM,EAAI3C,EAAkBU,EAAKmC,SAAWR,EAAMQ,QACvCF,OAIX,SAASH,EAAehD,GACtB,OAAOA,EAAOiD,MAAM,MAAMC,OAAO,SAACC,EAAKC,GACrC9C,IAAMgD,EAASF,EAAKC,OAAOJ,MAAM,KACjC,GAAIK,EAAOxD,OAAS,EAAG,CACrBQ,IAAMC,EAAMC,EAAkB8C,EAAOC,QAAQF,QAC7CF,EAAI9B,EAAOd,IAAQA,GAAO+C,EAAOtC,KAAK,KAAKqC,OAE7C,OAAOF,OAIX,SAAgBK,EAAYC,GAC1B,MAAM,IAAIC,MAAM,mBAGlB,SAAShB,EAAad,EAAOa,GAC3B,OAAQkB,EAAYC,KAAKnB,GAAK,IAAM,IAClC5B,EAAkB4B,GAAK,IAAMK,EAAML,EAAGb,EAAMa,IAAM,IAGtD,SAASK,EAAMvC,EAAKsC,GAClB,OAAOA,GAA0B,iBAAVA,GAAsBgB,EAAahE,QAAQU,IAAQ,EAAI,KAAO,IC7KvF,SAAgBuD,IACdC,GAAY,EAEZC,EAAWC,YAAcC,EAAS5C,EAAkBC,GAGtD,SAAgB4C,EAAQnE,GACtBkE,GAAUE,OAAOpE,GAGnB,SAAgBqE,EAAYzC,GAC1BtB,IAAMgE,EAAM3C,EAAYC,GAExB,GAAI0C,KAAO/C,EACT,OAAOA,EAAQ+C,GAEjBhE,IAAMiE,EAAYC,KAAiBC,EAMnC,OAJAlD,EAAQ+C,GAAOC,EAEfG,IAEOH,EAGT,SAASG,IACHX,IAGJA,GAAY,EACZY,EAAQC,UAAUC,KAAKf,ICpBzB,SAASgB,EAAIC,mBACX,GAAIC,MAAMC,QAAQF,IAAMC,MAAMC,QAAQF,EAAEG,KACtCC,UAAU,IAAOD,IAAKC,UAAU,IAChC/E,EAAOwB,EAAOW,EAAe6B,OAAOc,IAAIE,MAAM,KAAMD,kBAEpD,IAAKE,IAAIC,EAAI,EAAGA,EAAIH,UAAUrF,OAAQwF,IACR,iBAAjBH,EAAUG,GACnBlF,EAAOwB,EAAOW,EAAe4C,EAAUG,KACR,iBAAjBH,EAAUG,IACxBlF,EAAOwB,EAAOuD,EAAUG,GAAG1D,OAASuD,EAAUG,IAIpD,OAAOR,EAsDT,SAASS,EAAUC,EAAMtE,GACvB4D,EAAIU,GAAQV,EAAI7D,EAAMuE,IAASC,EAAOvE,GAAQsE,GAGhD,SAASC,EAAOvE,GACd,OAAO,SAAqB2B,GAE1B,OADAjB,EAAMV,QAAyB,IAAV2B,GAAgCA,EAC9CiC,GAQX,SAASY,EAAInF,EAAKsC,GAGhB,OAFAjB,EAAQ+D,EACR/D,EAAMrB,GAAOsC,EACNiC,EAGT,SAASc,EAAMC,GACb,OAAO,WAGL,OAFAF,EAAS/D,EACTA,KACOiE,GAIX,SAASC,EAAUN,EAAMK,GACvBrG,OAAOuG,eAAejB,EAAKU,GACzBQ,IAAKH,IC9HT,OACEI,EAAK,UACLC,GAAK,kBACLC,EAAK,SACLC,GAAK,YACLC,GAAK,aACLC,GAAK,cACLC,GAAK,eACLC,EAAK,SACLC,EAAK,QACLC,EAAK,QACLC,EAAK,UACLC,GAAK,WACLC,EAAK,SACLC,GAAK,YACLC,GAAK,aACLC,GAAK,cACLC,GAAK,eACLC,EAAK,UACLC,GAAK,aACLC,GAAK,cACLC,GAAK,eACLC,GAAK,gBACLC,GAAK,YACLC,GAAK,YACLC,GAAK,gBACLC,GAAK,aACLC,EAAK,aHzBDtG,EAAS7B,OAAOoI,OAAO,MAEhBC,EAAgBrI,OAAOgC,KAClCnC,EAAUyI,SAASC,gBAAgBnG,QACnCoG,OAAO,SAAA9G,SAAwD,iBAAzC4G,SAASC,gBAAgBnG,MAAMV,KAQ1C0B,EAAYpD,OAAOoI,OAAO,SAE1BjE,EAAc,sDAErBsE,EAAOC,OAAOC,UAAUC,UAAUvI,QAAQ,SAAW,EAOrDgE,EAAgB,WACpBvD,IAAM+H,EAAKP,SAASQ,cAAc,OAElC,OAAOT,EAAcG,OAAO,SAAA9G,GAC1B,IACEmH,EAAGzG,MAAMV,GAAQ,MACjBmH,EAAGzG,MAAM2G,YAAYrH,EAAM,OAC3B,MAAOsH,GACP,OAGF,OAAO9I,GAAUuI,GAAQI,EAAGzG,MAAMV,IAASmH,EAAGzG,MAAM6G,iBAAiBvH,GAAO,QAC3EwH,OAAO,cCnCN1E,EAAa8D,SAASQ,cAAc,SACpC/G,EAAU/B,OAAOoI,OAAO,SAE1B1D,EAAS,GACTO,EAAQ,EACRV,GAAY,EAEVY,EAAUuD,OAAOvD,UACrBC,QAAS,kBAASC,KAAM,SAACgB,UAAO8C,WAAW9C,EAAI,OAGjDiC,SAASc,KAAKC,YAAY7E,GAE1B,IAAaQ,EAAc,KAAO,OAA0B,MAAhBsE,KAAKC,SAAoB,GAAGC,SAAS,KAAK7I,OAAO,IACxE,OAA0B,MAAhB2I,KAAKC,SAAoB,GAAGC,SAAS,KAAK7I,OAAO,GGb5EsE,EAAQ,EACNwE,QCHJ,SACA,MACA,UACA,UACA,WACA,QACA,UACA,QACA,cACA,gBACA,aACA,QACA,QACA,gBACA,WACA,UACA,aACA,eACA,OACA,OACA,aACA,eACA,WACA,eACA,YACA,aACA,WACA,QACA,OACA,QACA,SACA,QACA,UAGA,MACA,OACA,MACA,YACA,iBACA,mBACA,cAGA,QACA,SACA,eACA,aACA,YACA,WACA,cACA,SACA,iBACA,iBH7BEtD,KACA/D,YAkBJkD,EAAIkE,SAAW,iBAAM,IAAMlE,EAAIoE,OAC/BpE,EAAIhB,YAAcA,EAClBgB,EAAIqE,WExCW,SAASC,GACtB9I,IAAM+I,EAAU7J,OAAOgC,KAAK4H,GAAO1H,IAAI,SAAAnB,UACrC4B,EAAgB5B,EAAK6I,EAAM7I,MAC3BS,KAAK,IAEP,GAAIqI,KAAWJ,EACb,OAAOA,EAAcI,GAEvB/I,IAAMkF,EAAOhB,KAAgBC,EAI7B,OAHAwE,EAAcI,GAAW7D,EACzBrB,EAAQ,cAAgBqB,EAAO,IAAM6D,EAAU,KAExC7D,GF6BTV,EAAIX,QAAUA,EACdW,EAAIwE,OAkFJ,SAAgB9D,EAAM+D,GACpB,OAAyB,IAArBpE,UAAUrF,OACL0D,EAAYgC,GAEE,mBAAZ+D,UACFzE,EAAIU,QACXM,EAAUN,EAAM,WAEd,OADApF,EAAOwB,EAAO2H,GACPzE,UAKXA,EAAIU,GAAQ,WAEV,OADApF,EAAOwB,EAAO2H,EAAQnE,MAAM,KAAMD,YAC3BL,KAhGXA,EAAIR,IAyDJ,SAAajC,EAAUT,GACrBuC,EAAQhC,EAAgBE,EAAUT,EAAMA,OAASA,KAxDnDiG,EAAc7F,QAAQ,SAAAd,GACpB,GAAIyC,EAAYC,KAAK1C,GAAO,CAC1BZ,IAAMkJ,EAAazJ,EAAemB,EAAKR,QAAQiD,EAAa,OAC5D,IAA2C,IAAvCkE,EAAchI,QAAQ2J,GAExB,OADA5G,EAAU4G,GAActI,EACjBqE,EAAUiE,EAAYtI,GAIjCqE,EAAUrE,KAGZ4E,EAAU,QAAS,WACjBxF,IAAMmJ,EAAYjH,EAASZ,GAE3B,OADAA,KACO6H,IAGT3D,EAAU,QAAS,WACjBxF,IAAMiE,EAAYF,EAAYzC,GAE9B,OADAA,KACO2C,IAGTuB,EAAU,WAAYF,EAAM,SAAC/C,EAAOuG,GAGlC,OAFAxH,EAAQ+D,EACRb,EAAI4E,UAAU5E,EAAIqE,WAAWC,GAAS,IAAMvG,GACrCiC,KAGTgB,EAAU,SAAUF,EAAM,SAAC/C,EAAOsD,UAChCT,EAAI,UAAY7C,EAAOsD,EAAEvE,OAASuE,MAGpCL,EAAU,QAASF,EAAM,SAAC/C,EAAOsD,UAC7BT,GAA4B,IAAvB7C,EAAMhD,QAAQ,KAAa,GAAK,KAAOgD,EAAOsD,EAAEvE,OAASuE,MAGlEwD,EAAQ3H,QAAQ,SAAAwD,UACdM,EAAU,IAAMtF,EAAkBgF,GAAOI,EAAM,SAAC/C,EAAOsD,UACrDT,EAAI,IAAMF,GAAQW,EAAI,IAAMtD,EAAQ,IAAM,IAAKsD,EAAIA,EAAEvE,OAASuE,EAAItD,EAAMjB,OAASiB"}