{"version":3,"file":"bss.min.js","sources":["lib/popular.js","lib/utils.js","lib/sheet.js","lib/index.js","lib/pseudos.js"],"sourcesContent":["export default {\n  ai : 'alignItems',\n  b  : 'bottom',\n  bc : 'backgroundColor',\n  br : 'borderRadius',\n  bs : 'boxShadow',\n  c  : 'color',\n  d  : 'display',\n  f  : 'float',\n  fd : 'flexDirection',\n  ff : 'fontFamily',\n  fs : 'fontSize',\n  h  : 'height',\n  jc : 'justifyContent',\n  l  : 'left',\n  lh : 'lineHeight',\n  ls : 'letterSpacing',\n  m  : 'margin',\n  mb : 'marginBottom',\n  ml : 'marginLeft',\n  mr : 'marginRight',\n  mt : 'marginTop',\n  o  : 'opacity',\n  p  : 'padding',\n  pb : 'paddingBottom',\n  pl : 'paddingLeft',\n  pr : 'paddingRight',\n  pt : 'paddingTop',\n  r  : 'right',\n  t  : 'top',\n  ta : 'textAlign',\n  td : 'textDecoration',\n  tt : 'textTransform',\n  w  : 'width'\n}\n","export const cssProperties = ['float'].concat(Object.keys(\n  findWidth(document.documentElement.style)\n).filter(p => p.indexOf('-') === -1 && p !== 'length'))\n\nfunction findWidth(obj) {\n  return obj.hasOwnProperty('width')\n    ? obj\n    : findWidth(Object.getPrototypeOf(obj))\n}\n\nexport const memoize = (fn, cache = {}) => item =>\n  item in cache\n    ? cache[item]\n    : cache[item] = fn(item)\n\nexport function add(style, prop, value) {\n  if (!(prop in style))\n    return style[prop] = value\n\n  if (!style._fallback)\n    Object.defineProperty(style, '_fallback', { configurable: true, value: Object.create(null, {}) })\n\n  add(style._fallback, prop, value)\n}\n\nexport const vendorMap = Object.create(null, {})\nexport const vendorValuePrefix = Object.create(null, {})\n\nexport const vendorRegex = /^(o|O|ms|MS|Ms|moz|Moz|webkit|Webkit|WebKit)([A-Z])/\n\nconst appendPx = memoize(prop => {\n  const el = document.createElement('div')\n\n  try {\n    el.style[prop] = '1px'\n    el.style.setProperty(prop, '1px')\n    return el.style[prop].slice(-3) === '1px' ? 'px' : ''\n  } catch (err) {\n    return ''\n  }\n}, {\n  flex: '',\n  boxShadow: 'px',\n  border: 'px'\n})\n\nexport function lowercaseFirst(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1)\n}\n\nexport function sanitize(styles) {\n  return Object.keys(styles).reduce((acc, key) => {\n    const value = styles[key]\n\n    if (!value && value !== 0 && value !== '')\n      return acc\n\n    if (key === 'content' && value.charAt(0) !== '\"')\n      acc[key] = '\"' + value + '\"'\n    else\n      acc[key in vendorMap ? vendorMap[key] : key] = formatValue(key, value)\n\n    return acc\n  }, {})\n}\n\nexport function assign(obj, obj2) {\n  if (obj2._fallback) {\n    obj._fallback\n      ? assign(obj._fallback, obj2._fallback)\n      : Object.defineProperty(obj, '_fallback', { value: obj2._fallback })\n  }\n\n  for (const key in obj2) {\n    if (obj2.hasOwnProperty(key))\n      obj[key] = obj2[key]\n  }\n}\n\nexport function hyphenToCamelCase(hyphen) {\n  return hyphen.slice(hyphen.charAt(0) === '-' ? 1 : 0).replace(/-([a-z])/g, function(match) {\n    return match[1].toUpperCase()\n  })\n}\n\nexport function camelCaseToHyphen(camelCase) {\n  return camelCase.replace(/([A-Z])/g, '-$1').toLowerCase()\n}\n\nexport function initials(camelCase) {\n  return camelCase.charAt(0) + (camelCase.match(/([A-Z])/g) || []).join('').toLowerCase()\n}\n\nexport function objectToRules(style, suffix = '') {\n  const base = {}\n\n  let rules = []\n\n  if (style._fallback)\n    Object.defineProperty(base, '_fallback', { configurable: true, value: style._fallback })\n\n  Object.keys(style).forEach(prop => {\n    if (prop.charAt(0) === '@')\n      rules.push(prop + '{' + objectToRules(style[prop]) + '}')\n    else if (typeof style[prop] === 'object')\n      rules = rules.concat(objectToRules(style[prop], suffix + prop))\n    else\n      base[prop] = style[prop]\n  })\n\n  if (Object.keys(base).length)\n    rules.unshift((suffix.charAt(0) === ' ' ? '' : '.$' ) + '.$' + suffix + '{' + stylesToCss(base) + '}')\n\n  return rules\n}\n\nexport const selectorSplit = /,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/\n\nexport function stylesToCss(style) {\n  return Object.keys(style).reduce((acc, prop) =>\n    acc + propToString(prop, style[prop])\n  , '') + (style._fallback ? stylesToCss(style._fallback) : '')\n}\n\nexport function readClasses(sheet) {\n  throw new Error('not implemented')\n}\n\nfunction propToString(prop, value) {\n  return (vendorRegex.test(prop) ? '-' : '')\n    + (prop.charAt(0) === '-' && prop.charAt(1) === '-'\n      ? prop\n      : camelCaseToHyphen(prop)\n    )\n    + ':'\n    + value\n    + ';'\n}\n\nexport function formatValue(key, value) {\n  return value in vendorValuePrefix\n    ? vendorValuePrefix[value]\n    : addPx(key, value)\n}\n\nexport function addPx(key, value) {\n  return value + (isNaN(value) ? '' : appendPx(key))\n}\n","import {\n  objectToRules\n} from './utils'\n\nconst document = window.document\nconst styleSheet = document && document.createElement('style')\nstyleSheet && document.head.appendChild(styleSheet)\nconst sheet = styleSheet && styleSheet.sheet\n\nlet debug = false\nlet classes = Object.create(null, {})\nlet rules = []\nlet count = 0\n\nexport const classPrefix = 'b' + ('000' + ((Math.random() * 46656) | 0).toString(36)).slice(-3) +\n                    ('000' + ((Math.random() * 46656) | 0).toString(36)).slice(-3)\n\nexport function setDebug(d) {\n  debug = d\n}\n\nexport function getSheet() {\n  const content = rules.join('')\n  rules = []\n  classes = Object.create(null, {})\n  count = 0\n  return content\n}\n\nexport function insert(rule, index) {\n  rules.push(rule)\n\n  if (debug)\n    return styleSheet.textContent = rules.join('\\n')\n\n  sheet && sheet.insertRule(rule, arguments.length > 1\n    ? index\n    : sheet.cssRules.length\n  )\n}\n\nexport function createClass(style) {\n  const json = JSON.stringify(style)\n\n  if (json in classes)\n    return classes[json]\n\n  const rules = objectToRules(style)\n      , className = classPrefix + (++count)\n\n  for (let i = 0; i < rules.length; i++)\n    insert(rules[i].replace(/\\.\\$/g, '.' + className))\n\n  classes[json] = className\n\n  return className\n}\n","/* eslint no-invalid-this: 0 */\nimport pseudos from './pseudos'\nimport popular from './popular'\n\nimport {\n  classPrefix,\n  createClass,\n  setDebug,\n  getSheet,\n  insert\n} from './sheet'\n\nimport {\n  hyphenToCamelCase,\n  vendorValuePrefix,\n  lowercaseFirst,\n  objectToRules,\n  selectorSplit,\n  cssProperties,\n  stylesToCss,\n  vendorRegex,\n  formatValue,\n  vendorMap,\n  sanitize,\n  initials,\n  memoize,\n  assign,\n  addPx,\n  add\n} from './utils'\n\nconst shorts = Object.create(null)\n\nfunction bss(input, value) {\n  const b = chain(bss)\n  assign(b.style, parse.apply(null, arguments))\n  return b\n}\n\nfunction setProp(prop, value) {\n  Object.defineProperty(bss, prop, {\n    configurable: true,\n    value\n  })\n}\n\nObject.defineProperty(bss, 'valueOf', {\n  configurable: true,\n  writable: true,\n  value: function ValueOf() {\n    return '.' + this.class\n  }\n})\n\nbss.style = {}\n\nsetProp('setDebug', setDebug)\n\nsetProp('$keyframes', keyframes)\nsetProp('$media', $media)\nsetProp('$import', $import)\nsetProp('$nest', $nest)\nsetProp('getSheet', getSheet)\nsetProp('helper', helper)\nsetProp('css', css)\nsetProp('classPrefix', classPrefix)\n\nfunction chain(instance) {\n  const newInstance = Object.create(bss, {\n    style: {\n      value: instance.style,\n      enumerable: true\n    }\n  })\n\n  if (instance === bss)\n    bss.style = {}\n\n  return newInstance\n}\n\ncssProperties.forEach(prop => {\n  const vendor = prop.match(vendorRegex)\n  if (vendor) {\n    const unprefixed = lowercaseFirst(prop.replace(vendorRegex, '$2'))\n    if (cssProperties.indexOf(unprefixed) === -1) {\n      if (unprefixed === 'flexDirection')\n        vendorValuePrefix.flex = '-' + vendor[1].toLowerCase() + '-flex'\n\n      vendorMap[unprefixed] = prop\n      setProp(unprefixed, setter(prop))\n      setProp(short(unprefixed), bss[unprefixed])\n      return\n    }\n  }\n\n  setProp(prop, setter(prop))\n  setProp(short(prop), bss[prop])\n})\n\nsetProp('content', function Content(arg) {\n  this.style.content = '\"' + arg + '\"'\n  return chain(this)\n})\n\nObject.defineProperty(bss, 'class', {\n  set: function(value) {\n    this.__class = value\n  },\n  get: function() {\n    return this.__class || createClass(this.style)\n  }\n})\n\nfunction $media(value, style) {\n  if (value)\n    add(this.style, '@media ' + value, parse(style))\n\n  return chain(this)\n}\n\nfunction $import(value) {\n  if (value)\n    insert('@import ' + value + ';', 0)\n\n  return chain(this)\n}\n\nfunction $nest(selector, properties) {\n  if (arguments.length === 1)\n    Object.keys(selector).forEach(x => addNest(this.style, x, selector[x]))\n  else if (selector)\n    addNest(this.style, selector, properties)\n\n  return chain(this)\n}\n\nfunction addNest(style, selector, properties) {\n  selector.split(selectorSplit).map(x => x.trim()).forEach(x =>\n    add(style, (x.charAt(0) === ':' ? '' : ' ') + x, parse(properties))\n  )\n}\n\npseudos.forEach(name =>\n  setProp('$' + hyphenToCamelCase(name.replace(/:/g, '')), function Pseudo(value, b) {\n    if (value || b)\n      add(this.style, name + (b ? '(' + value + ')' : ''), parse(b || value))\n    return chain(this)\n  })\n)\n\nfunction setter(prop) {\n  return function CssProperty(value) {\n    if (!value && value !== 0) {\n      delete this.style[prop]\n    } else if (arguments.length > 0) {\n      add(this.style, prop, arguments.length === 1\n        ? formatValue(prop, value)\n        : Array.prototype.slice.call(arguments).map(v => addPx(prop, v)).join(' ')\n      )\n    }\n\n    return chain(this)\n  }\n}\n\nfunction css(selector, style) {\n  if (arguments.length === 1)\n    Object.keys(selector).forEach(key => addCss(key, selector[key]))\n  else\n    addCss(selector, style)\n\n  return chain(this)\n}\n\nfunction addCss(selector, style) {\n  objectToRules(parse(style)).forEach(c => insert(c.replace(/\\.\\$\\.?\\$?/g, selector)))\n}\n\nfunction helper(name, styling) {\n  if (arguments.length === 1)\n    return Object.keys(name).forEach(key => helper(key, name[key]))\n\n  delete bss[name] // Needed to avoid weird get calls in chrome\n\n  if (typeof styling === 'function') {\n    helper[name] = styling\n    Object.defineProperty(bss, name, {\n      configurable: true,\n      value: function Helper() {\n        const result = styling.apply(null, arguments)\n        assign(this.style, result.style)\n        return chain(this)\n      }\n    })\n  } else {\n    helper[name] = parse(styling)\n    Object.defineProperty(bss, name, {\n      configurable: true,\n      get: function() {\n        assign(this.style, parse(styling))\n        return chain(this)\n      }\n    })\n  }\n}\n\nbss.helper('$animate', (value, props) =>\n  bss.animation(bss.$keyframes(props) + ' ' + value)\n)\n\nfunction short(prop) {\n  const acronym = initials(prop)\n      , short = popular[acronym] && popular[acronym] !== prop ? prop : acronym\n\n  shorts[short] = prop\n  return short\n}\n\nconst stringToObject = memoize(string => {\n  let last = ''\n    , prev\n\n  return string.trim().split(/;|\\n/).reduce((acc, line) => {\n    line = last + line.trim()\n    last = line.charAt(line.length - 1) === ',' ? line : ''\n    if (last)\n      return acc\n\n    if (line.charAt(0) === ',') {\n      acc[prev] += line\n      return acc\n    }\n\n    const tokens = line.match(/[^:\\s]+/g)\n\n    if (!tokens)\n      return acc\n\n    const key = tokens.shift()\n        , cssVar = key.charAt(0) === '-' && key.charAt(1) === '-'\n        , prop = cssVar\n          ? key\n          : hyphenToCamelCase(key)\n\n    prev = shorts[prop] || prop\n\n    if (prop in helper) {\n      typeof helper[prop] === 'function'\n        ? assign(acc, helper[prop](...tokens).style)\n        : assign(acc, helper[prop])\n    } else if (tokens.length > 0) {\n      add(acc, prev, tokens.map(t => cssVar ? t : addPx(prev, t)).join(' '))\n    }\n\n    return acc\n  }, {})\n})\n\nlet count = 0\nconst keyframeCache = {}\n\nfunction keyframes(props) {\n  const content = Object.keys(props).reduce((acc, key) =>\n    acc + key + '{' + stylesToCss(parse(props[key])) + '}'\n  , '')\n\n  if (content in keyframeCache)\n    return keyframeCache[content]\n\n  const name = classPrefix + count++\n  keyframeCache[content] = name\n  insert('@keyframes ' + name + '{' + content + '}')\n\n  return name\n}\n\nfunction parse(input, value) {\n  if (typeof input === 'string') {\n    if (typeof value === 'string' || typeof value === 'number')\n      return ({ [input] : value })\n\n    return stringToObject(input)\n  } else if (Array.isArray(input) && Array.isArray(input.raw)) {\n    arguments[0] = { raw: input }\n    return stringToObject(String.raw.apply(null, arguments))\n  }\n\n  return input.style || sanitize(input)\n}\n\nexport default bss\n","export default [\n  ':active',\n  ':any',\n  ':checked',\n  ':default',\n  ':disabled',\n  ':empty',\n  ':enabled',\n  ':first',\n  ':first-child',\n  ':first-of-type',\n  ':fullscreen',\n  ':focus',\n  ':hover',\n  ':indeterminate',\n  ':in-range',\n  ':invalid',\n  ':last-child',\n  ':last-of-type',\n  ':left',\n  ':link',\n  ':only-child',\n  ':only-of-type',\n  ':optional',\n  ':out-of-range',\n  ':read-only',\n  ':read-write',\n  ':required',\n  ':right',\n  ':root',\n  ':scope',\n  ':target',\n  ':valid',\n  ':visited',\n\n  // With value\n  ':dir',\n  ':lang',\n  ':not',\n  ':nth-child',\n  ':nth-last-child',\n  ':nth-last-of-type',\n  ':nth-of-type',\n\n  // Elements\n  '::after',\n  '::before',\n  '::first-letter',\n  '::first-line',\n  '::selection',\n  '::backdrop',\n  '::placeholder',\n  '::marker',\n  '::spelling-error',\n  '::grammar-error'\n]\n"],"names":["ai","b","bc","br","bs","c","d","f","fd","ff","fs","h","jc","l","lh","ls","m","mb","ml","mr","mt","o","p","pb","pl","pr","pt","r","t","ta","td","tt","w","cssProperties","concat","Object","keys","findWidth","obj","hasOwnProperty","getPrototypeOf","document","documentElement","style","filter","indexOf","const","memoize","fn","cache","item","add","prop","value","_fallback","defineProperty","configurable","create","vendorMap","vendorValuePrefix","vendorRegex","appendPx","el","createElement","setProperty","slice","err","flex","boxShadow","border","assign","obj2","key","hyphenToCamelCase","hyphen","charAt","replace","match","toUpperCase","objectToRules","suffix","base","rules","forEach","push","length","unshift","stylesToCss","selectorSplit","reduce","acc","test","toLowerCase","formatValue","addPx","isNaN","window","styleSheet","head","appendChild","sheet","debug","classes","count","classPrefix","Math","random","toString","insert","rule","index","textContent","join","insertRule","arguments","cssRules","shorts","bss","input","chain","parse","apply","setProp","instance","newInstance","enumerable","addNest","selector","properties","split","map","x","trim","setter","this","Array","prototype","call","v","addCss","helper","name","styling","result","get","short","camelCase","acronym","popular","writable","class","props","content","keyframeCache","string","vendor","unprefixed","arg","set","__class","json","JSON","stringify","className","i","createClass","animation","$keyframes","stringToObject","let","prev","last","line","tokens","shift","cssVar","styles","isArray","raw","String"],"mappings":"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"}