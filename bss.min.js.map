{"version":3,"file":"bss.min.js","sources":["lib/popular.js","lib/utils.js","lib/sheet.js","lib/keyframes.js","lib/index.js","lib/pseudos.js"],"sourcesContent":["export default {\n  ai : 'alignItems',\n  b  : 'bottom',\n  bc : 'backgroundColor',\n  br : 'borderRadius',\n  bs : 'boxShadow',\n  c  : 'color',\n  d  : 'display',\n  f  : 'float',\n  fd : 'flexDirection',\n  ff : 'fontFamily',\n  fs : 'fontSize',\n  h  : 'height',\n  jc : 'justifyContent',\n  l  : 'left',\n  lh : 'lineHeight',\n  ls : 'letterSpacing',\n  m  : 'margin',\n  mb : 'marginBottom',\n  ml : 'marginLeft',\n  mr : 'marginRight',\n  mt : 'marginTop',\n  o  : 'opacity',\n  p  : 'padding',\n  pb : 'paddingBottom',\n  pl : 'paddingLeft',\n  pr : 'paddingRight',\n  pt : 'paddingTop',\n  r  : 'right',\n  t  : 'top',\n  ta : 'textAlign',\n  td : 'textDecoration',\n  tt : 'textTransform',\n  w  : 'width'\n}\n","import popular from './popular'\n\nconst shorts = Object.create(null)\n\nexport const cssProperties = ['float'].concat(Object.keys(\n  findWidth(document.documentElement.style)\n).filter(p => p.indexOf('-') === -1 && p !== 'length'))\n\nfunction findWidth(obj) {\n  return obj.hasOwnProperty('width')\n    ? obj\n    : findWidth(Object.getPrototypeOf(obj))\n}\n\nconst memoize = (fn, cache = {}) => item =>\n  item in cache\n    ? cache[item]\n    : cache[item] = fn(item)\n\nconst stringToObject = memoize(string => {\n  let last = ''\n    , prev\n\n  return string.trim().replace(/;/g, '\\n').split('\\n').reduce((acc, line) => {\n    line = last + line.trim()\n    last = line.slice(-1) === ',' ? line : ''\n    if (last)\n      return acc\n\n    if (line.charAt(0) === ',') {\n      acc[prev] += line\n      return acc\n    }\n\n    const tokens = line.split(/[:\\s]/)\n    if (tokens.length > 1) {\n      const key = hyphenToCamelCase(tokens.shift().trim())\n      prev = shorts[key] || key\n      add(acc, prev, tokens.filter(a => a).reduce((acc, t) => acc + addPx(prev, t.trim()) + ' ', '').trim())\n    }\n    return acc\n  }, {})\n})\n\nexport function add(style, prop, value) {\n  if (!(prop in style))\n    return style[prop] = value\n\n  if (!style._fallback)\n    Object.defineProperty(style, '_fallback', { configurable: true, value: Object.create(null, {}) })\n\n  add(style._fallback, prop, value)\n}\n\nexport const vendorMap = Object.create(null, {})\nexport const vendorValuePrefix = Object.create(null, {})\n\nexport const vendorRegex = /^(o|O|ms|MS|Ms|moz|Moz|webkit|Webkit|WebKit)([A-Z])/\n\nexport function parse(input, value) {\n  if (typeof input === 'string') {\n    if (typeof value === 'string' || typeof value === 'number')\n      return ({ [input] : value })\n\n    return stringToObject(input)\n  } else if (Array.isArray(input) && Array.isArray(input.raw)) {\n    arguments[0] = { raw: input }\n    return stringToObject(String.raw.apply(null, arguments))\n  }\n\n  return input.style || sanitize(input)\n}\n\nconst appendPx = memoize(prop => {\n  const el = document.createElement('div')\n\n  try {\n    el.style[prop] = '1px'\n    el.style.setProperty(prop, '1px')\n    return el.style[prop].slice(-3) === '1px' ? 'px' : ''\n  } catch (err) {\n    return ''\n  }\n}, {\n  flex: ''\n})\n\nexport function lowercaseFirst(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1)\n}\n\nfunction sanitize(styles) {\n  return Object.keys(styles).reduce((acc, key) => {\n    const value = styles[key]\n\n    if (!value && value !== 0 && value !== '')\n      return acc\n\n    if (key === 'content' && value.charAt(0) !== '\"')\n      acc[key] = '\"' + value + '\"'\n    else\n      acc[key in vendorMap ? vendorMap[key] : key] = formatValue(key, value)\n\n    return acc\n  }, {})\n}\n\nexport function assign(obj, obj2) {\n  if (obj2._fallback) {\n    obj._fallback\n      ? assign(obj._fallback, obj2._fallback)\n      : Object.defineProperty(obj, '_fallback', { value: obj2._fallback })\n  }\n\n  for (const key in obj2) {\n    if (obj2.hasOwnProperty(key))\n      obj[key] = obj2[key]\n  }\n}\n\nexport function hyphenToCamelCase(hyphen) {\n  return hyphen.slice(hyphen.charAt(0) === '-' ? 1 : 0).replace(/-([a-z])/g, function(match) {\n    return match[1].toUpperCase()\n  })\n}\n\nexport function camelCaseToHyphen(camelCase) {\n  return camelCase.replace(/([A-Z])/g, '-$1').toLowerCase()\n}\n\nexport function initials(camelCase) {\n  return camelCase.charAt(0) + (camelCase.match(/([A-Z])/g) || []).join('').toLowerCase()\n}\n\nexport function short(prop) {\n  const acronym = initials(prop)\n      , short = popular[acronym] && popular[acronym] !== prop ? prop : acronym\n\n  shorts[short] = prop\n  return short\n}\n\nexport function objectToRules(style, suffix = '') {\n  const base = {}\n\n  let rules = []\n\n  if (style._fallback)\n    Object.defineProperty(base, '_fallback', { configurable: true, value: style._fallback })\n\n  Object.keys(style).forEach(prop => {\n    if (prop.charAt(0) === '@')\n      rules.push(prop + '{' + objectToRules(style[prop]) + '}')\n    else if (typeof style[prop] === 'object')\n      rules = rules.concat(objectToRules(style[prop], suffix + prop))\n    else\n      base[prop] = style[prop]\n  })\n\n  if (Object.keys(base).length)\n    rules.unshift(selectorBlock((suffix.charAt(0) === ' ' ? '' : '.$' ) + '.$' + suffix, base))\n\n  return rules\n}\n\nexport function selectorBlock(selector, style) {\n  return selector + '{'\n    + stylesToCss((typeof style === 'string' ? stringToObject(style) : style))\n    + '}'\n}\n\nexport const selectorSplit = /,(?=(?:(?:[^\"]*\"){2})*[^\"]*$)/\n\nexport function stylesToCss(style) {\n  return Object.keys(style).reduce((acc, prop) =>\n    acc + propToString(prop, style[prop])\n  , '') + (style._fallback ? stylesToCss(style._fallback) : '')\n}\n\nexport function readClasses(sheet) {\n  throw new Error('not implemented')\n}\n\nfunction propToString(prop, value) {\n  return (vendorRegex.test(prop) ? '-' : '')\n  + camelCaseToHyphen(prop) + ':' + value + ';'\n}\n\nexport function formatValue(key, value) {\n  return value in vendorValuePrefix\n    ? vendorValuePrefix[value]\n    : addPx(key, value)\n}\n\nexport function addPx(key, value) {\n  return value + (isNaN(value) ? '' : appendPx(key))\n}\n","import {\n  objectToRules\n} from './utils'\n\nconst document = window.document\nconst styleSheet = document && document.createElement('style')\nstyleSheet && document.head.appendChild(styleSheet)\nconst sheet = styleSheet && styleSheet.sheet\n\nlet debug = false\nlet classes = Object.create(null, {})\nlet rules = []\nlet count = 0\n\nexport const classPrefix = 'b' + ('000' + ((Math.random() * 46656) | 0).toString(36)).slice(-3) +\n                    ('000' + ((Math.random() * 46656) | 0).toString(36)).slice(-3)\n\nexport function setDebug(d) {\n  debug = d\n}\n\nexport function getSheet() {\n  const content = rules.join('')\n  rules = []\n  classes = Object.create(null, {})\n  return content\n}\n\nexport function insert(rule, index) {\n  rules.push(rule)\n\n  if (debug)\n    return styleSheet.textContent = rules.join('\\n')\n\n  sheet && sheet.insertRule(rule, arguments.length > 1\n    ? index\n    : sheet.cssRules.length\n  )\n}\n\nexport function createClass(style) {\n  const json = JSON.stringify(style)\n\n  if (json in classes)\n    return classes[json]\n\n  const rules = objectToRules(style)\n      , className = classPrefix + (++count)\n\n  for (let i = 0; i < rules.length; i++)\n    insert(rules[i].replace(/\\.\\$/g, '.' + className))\n\n  classes[json] = className\n\n  return className\n}\n","import { selectorBlock } from './utils'\nimport { insert, classPrefix } from './sheet'\n\nlet count = 0\nconst keyframeCache = {}\n\nexport default function(props) {\n  const content = Object.keys(props).reduce((acc, key) =>\n    acc + selectorBlock(key, props[key].style || props[key])\n  , '')\n\n  if (content in keyframeCache)\n    return keyframeCache[content]\n\n  const name = classPrefix + ++count\n  keyframeCache[content] = name\n  insert('@keyframes ' + name + '{' + content + '}')\n\n  return name\n}\n","import keyframes from './keyframes'\nimport pseudos from './pseudos'\n\nimport {\n  classPrefix,\n  createClass,\n  setDebug,\n  getSheet,\n  insert\n} from './sheet'\n\nimport {\n  hyphenToCamelCase,\n  vendorValuePrefix,\n  lowercaseFirst,\n  selectorSplit,\n  selectorBlock,\n  cssProperties,\n  vendorRegex,\n  formatValue,\n  vendorMap,\n  assign,\n  addPx,\n  short,\n  parse,\n  add\n} from './utils'\n\nfunction bss(input, value) {\n  assign(bss.style, parse.apply(null, arguments))\n  return chain(bss)\n}\n\nfunction setProp(prop, value) {\n  Object.defineProperty(bss, prop, {\n    configurable: true,\n    value\n  })\n}\n\nObject.defineProperty(bss, 'valueOf', {\n  configurable: true,\n  writable: true,\n  value: function ValueOf() {\n    return '.' + this.class\n  }\n})\n\nbss.style = {}\n\nsetProp('setDebug', setDebug)\n\nsetProp('$keyframes', keyframes)\nsetProp('getSheet', getSheet)\nsetProp('helper', helper)\nsetProp('css', css)\nsetProp('classPrefix', classPrefix)\n\nfunction chain(instance) {\n  const newInstance = Object.create(bss, {\n    style: {\n      value: instance.style,\n      enumerable: true\n    }\n  })\n\n  if (instance === bss)\n    bss.style = {}\n\n  return newInstance\n}\n\ncssProperties.forEach(prop => {\n  const vendor = prop.match(vendorRegex)\n  if (vendor) {\n    const unprefixed = lowercaseFirst(prop.replace(vendorRegex, '$2'))\n    if (cssProperties.indexOf(unprefixed) === -1) {\n      if (unprefixed === 'flexDirection')\n        vendorValuePrefix.flex = '-' + vendor[1].toLowerCase() + '-flex'\n\n      vendorMap[unprefixed] = prop\n      setProp(unprefixed, setter(prop))\n      setProp(short(unprefixed), bss[unprefixed])\n      return\n    }\n  }\n\n  setProp(prop, setter(prop))\n  setProp(short(prop), bss[prop])\n})\n\nsetProp('content', function Content(arg) {\n  this.style.content = '\"' + arg + '\"'\n  return chain(this)\n})\n\nObject.defineProperty(bss, 'class', {\n  set: function(value) {\n    this.__class = value\n  },\n  get: function() {\n    return this.__class || createClass(this.style)\n  }\n})\n\nsetProp('$media', function Media(value, style) {\n  if (value)\n    add(this.style, '@media ' + value, parse(style))\n\n  return chain(this)\n})\n\nsetProp('$nest', function Nest(value, style) {\n  if (arguments.length === 1)\n    Object.keys(value).forEach(x => this.$nest(x, value[x]))\n  else if (value)\n    value.split(selectorSplit).map(x => x.trim()).forEach(x => add(this.style, (x.charAt(0) === ':' ? '' : ' ') + x, parse(style)))\n\n  return chain(this)\n})\n\npseudos.forEach(name =>\n  setProp('$' + hyphenToCamelCase(name.replace(/:/g, '')), function Pseudo(value, b) {\n    if (value || b)\n      add(this.style, name + (b ? '(' + value + ')' : ''), parse(b || value))\n    return chain(this)\n  })\n)\n\nfunction setter(prop) {\n  return function CssProperty(value) {\n    if (!value && value !== 0) {\n      delete this.style[prop]\n    } else if (arguments.length > 0) {\n      add(this.style, prop, arguments.length === 1\n        ? formatValue(prop, value)\n        : Array.prototype.slice.call(arguments).map(v => addPx(prop, v)).join(' ')\n      )\n    }\n\n    return chain(this)\n  }\n}\n\nfunction css(selector, style) {\n  if (arguments.length === 1)\n    return Object.keys(selector).forEach(key => css(key, selector[key]))\n\n  insert(selectorBlock(selector, parse(style)), 0)\n}\n\nfunction helper(name, styling) {\n  if (arguments.length === 1)\n    return Object.keys(name).forEach(key => helper(key, name[key]))\n\n  delete bss[name] // Needed to avoid weird get calls in chrome\n  typeof styling === 'object'\n    ?\n    Object.defineProperty(bss, name, {\n      configurable: true,\n      get: function() {\n        assign(this.style, parse(styling))\n        return chain(this)\n      }\n    })\n    :\n    Object.defineProperty(bss, name, {\n      configurable: true,\n      value: function Helper() {\n        const result = styling.apply(null, arguments)\n        assign(this.style, result.style)\n        return chain(this)\n      }\n    })\n}\n\nbss.helper('$animate', (value, props) =>\n  bss.animation(bss.$keyframes(props) + ' ' + value)\n)\n\nexport default bss\n","export default [\n  ':active',\n  ':any',\n  ':checked',\n  ':default',\n  ':disabled',\n  ':empty',\n  ':enabled',\n  ':first',\n  ':first-child',\n  ':first-of-type',\n  ':fullscreen',\n  ':focus',\n  ':hover',\n  ':indeterminate',\n  ':in-range',\n  ':invalid',\n  ':last-child',\n  ':last-of-type',\n  ':left',\n  ':link',\n  ':only-child',\n  ':only-of-type',\n  ':optional',\n  ':out-of-range',\n  ':read-only',\n  ':read-write',\n  ':required',\n  ':right',\n  ':root',\n  ':scope',\n  ':target',\n  ':valid',\n  ':visited',\n\n  // With value\n  ':dir',\n  ':lang',\n  ':not',\n  ':nth-child',\n  ':nth-last-child',\n  ':nth-last-of-type',\n  ':nth-of-type',\n\n  // Elements\n  '::after',\n  '::before',\n  '::first-letter',\n  '::first-line',\n  '::selection',\n  '::backdrop',\n  '::placeholder',\n  '::marker',\n  '::spelling-error',\n  '::grammar-error'\n]\n"],"names":["ai","b","bc","br","bs","c","d","f","fd","ff","fs","h","jc","l","lh","ls","m","mb","ml","mr","mt","o","p","pb","pl","pr","pt","r","t","ta","td","tt","w","shorts","Object","create","cssProperties","concat","keys","findWidth","obj","hasOwnProperty","getPrototypeOf","document","documentElement","style","filter","indexOf","const","memoize","fn","cache","item","stringToObject","string","let","prev","last","trim","replace","split","reduce","acc","line","slice","charAt","tokens","length","key","hyphenToCamelCase","shift","add","a","addPx","prop","value","_fallback","defineProperty","configurable","vendorMap","vendorValuePrefix","vendorRegex","parse","input","styles","Array","isArray","raw","String","apply","arguments","formatValue","appendPx","el","createElement","setProperty","err","flex","assign","obj2","hyphen","match","toUpperCase","short","camelCase","acronym","join","toLowerCase","popular","selectorBlock","selector","stylesToCss","test","selectorSplit","isNaN","window","styleSheet","head","appendChild","sheet","debug","classes","rules","count","classPrefix","Math","random","toString","insert","rule","index","push","textContent","insertRule","cssRules","createClass","json","JSON","stringify","objectToRules","suffix","base","forEach","unshift","className","i","keyframeCache","bss","chain","setProp","instance","newInstance","enumerable","setter","this","prototype","call","map","v","writable","class","props","content","name","helper","styling","get","result","css","vendor","unprefixed","arg","set","__class","x","$nest","animation","$keyframes"],"mappings":"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"}