{"version":3,"file":"bss.min.js","sources":["lib/popular.js","lib/utils.js","lib/sheet.js","lib/keyframes.js","lib/index.js","lib/pseudos.js"],"sourcesContent":["export default {\n  ai : 'alignItems',\n  b  : 'bottom',\n  bc : 'backgroundColor',\n  br : 'borderRadius',\n  bs : 'boxShadow',\n  c  : 'color',\n  d  : 'display',\n  f  : 'float',\n  fd : 'flexDirection',\n  ff : 'fontFamily',\n  fs : 'fontSize',\n  h  : 'height',\n  jc : 'justifyContent',\n  l  : 'left',\n  lh : 'lineHeight',\n  ls : 'letterSpacing',\n  m  : 'margin',\n  mb : 'marginBottom',\n  ml : 'marginLeft',\n  mr : 'marginRight',\n  mt : 'marginTop',\n  o  : 'opacity',\n  p  : 'padding',\n  pb : 'paddingBottom',\n  pl : 'paddingLeft',\n  pr : 'paddingRight',\n  pt : 'paddingTop',\n  r  : 'right',\n  t  : 'top',\n  ta : 'textAlign',\n  td : 'textDecoration',\n  tt : 'textTransform',\n  w  : 'width'\n}\n","import popular from './popular'\n\nconst shorts = Object.create(null)\n\nexport const cssProperties = Object.keys(\n  findWidth(document.documentElement.style)\n).filter(p => p.indexOf('-') === -1 && p !== 'length')\n\nfunction findWidth(obj) {\n  return obj.hasOwnProperty('width')\n    ? obj\n    : findWidth(Object.getPrototypeOf(obj))\n}\n\nconst memoize = (fn, cache = {}) => item =>\n  item in cache\n    ? cache[item]\n    : cache[item] = fn(item)\n\nconst stringToObject = memoize(string => {\n  let last = ''\n    , prev\n\n  return string.replace(/;/g, '\\n').split('\\n').reduce((acc, line) => {\n    line = last + line.trim()\n    last = line.slice(-1) === ',' ? line : ''\n    if (last)\n      return acc\n\n    if (line.charAt(0) === ',') {\n      acc[prev] += line\n      return acc\n    }\n\n    const tokens = line.split(/[:\\s]/)\n    if (tokens.length > 1) {\n      const key = hyphenToCamelCase(tokens.shift().trim())\n      prev = shorts[key] || key\n\n      acc[prev] = tokens.filter(a => a).reduce((acc, t) => acc + addPx(prev, t.trim()) + ' ', '').trim()\n    }\n    return acc\n  }, {})\n})\n\nexport const vendorMap = Object.create(null, {})\nexport const vendorValuePrefix = Object.create(null, {})\n\nexport const vendorRegex = /^(o|O|ms|MS|Ms|moz|Moz|webkit|Webkit|WebKit)([A-Z])/\n\nexport function parse(input, value) {\n  if (typeof input === 'string') {\n    if (typeof value === 'string' || typeof value === 'number')\n      return ({ [input] : value })\n\n    return stringToObject(input)\n  } else if (Array.isArray(input) && Array.isArray(input.raw)) {\n    arguments[0] = { raw: input }\n    return stringToObject(String.raw.apply(null, arguments))\n  }\n\n  return input.style || sanitize(input)\n}\n\nconst appendPx = memoize(prop => {\n  const el = document.createElement('div')\n\n  try {\n    el.style[prop] = '1px'\n    el.style.setProperty(prop, '1px')\n    return el.style[prop].slice(-3) === '1px' ? 'px' : ''\n  } catch (err) {\n    return ''\n  }\n}, {\n  flex: ''\n})\n\nexport function lowercaseFirst(string) {\n  return string.charAt(0).toLowerCase() + string.slice(1)\n}\n\nfunction sanitize(styles) {\n  return Object.keys(styles).reduce((acc, key) => {\n    const value = styles[key]\n\n    if (!value && value !== 0 && value !== '')\n      return acc\n\n    if (key === 'content' && value.charAt(0) !== '\"')\n      acc[key] = '\"' + value + '\"'\n    else\n      acc[key in vendorMap ? vendorMap[key] : key] = formatValue(key, value)\n\n    return acc\n  }, {})\n}\n\nexport function assign(obj, obj2) {\n  for (const key in obj2) {\n    if (obj2.hasOwnProperty(key))\n      obj[key] = obj2[key]\n  }\n}\n\nexport function hyphenToCamelCase(hyphen) {\n  return hyphen.slice(hyphen.charAt(0) === '-' ? 1 : 0).replace(/-([a-z])/g, function(match) {\n    return match[1].toUpperCase()\n  })\n}\n\nexport function camelCaseToHyphen(camelCase) {\n  return camelCase.replace(/([A-Z])/g, '-$1').toLowerCase()\n}\n\nexport function initials(camelCase) {\n  return camelCase.charAt(0) + (camelCase.match(/([A-Z])/g) || []).join('').toLowerCase()\n}\n\nexport function short(prop) {\n  const acronym = initials(prop)\n      , short = popular[acronym] && popular[acronym] !== prop ? prop : acronym\n\n  shorts[short] = prop\n  return short\n}\n\nexport function getStyleSheetText(classes) {\n  return Object.keys(classes).sort().reduce((acc, key) =>\n    acc + key.replace(/CLASS_NAME/g, classes[key])\n  , '')\n}\n\nexport function objectToRules(style) {\n  const base = {}\n      , rules = []\n\n  let hasBase = false\n\n  Object.keys(style).forEach(key => {\n    if (key.charAt(0) === '@') {\n      rules.push(key + '{' + objectToRules(style[key]) + '}')\n    } else if (key.charAt(0) === ' ' || key.charAt(0) === ':') {\n      rules.push(selectorBlock('.$' + key, style[key]))\n    } else {\n      base[key] = style[key]\n      hasBase = true\n    }\n  })\n\n  if (hasBase)\n    rules.unshift(selectorBlock('.$', base))\n\n  return rules\n}\n\nexport function selectorBlock(selector, style) {\n  return selector + '{'\n    + stylesToCss((typeof style === 'string' ? stringToObject(style) : style))\n    + '}'\n}\n\nexport function stylesToCss(style) {\n  return Object.keys(style).reduce((acc, k) => acc + propToString(style, k), '')\n}\n\nexport function readClasses(sheet) {\n  throw new Error('not implemented')\n}\n\nfunction propToString(style, k) {\n  return (vendorRegex.test(k) ? '-' : '')\n  + camelCaseToHyphen(k) + ':' + style[k] + ';'\n}\n\nexport function formatValue(key, value) {\n  return value in vendorValuePrefix\n    ? vendorValuePrefix[value]\n    : addPx(key, value)\n}\n\nexport function addPx(key, value) {\n  return value + (isNaN(value) ? '' : appendPx(key))\n}\n","import {\n  objectToRules\n} from './utils'\n\nconst document = window.document\nconst classes = Object.create(null, {})\nconst styleSheet = document && document.createElement('style')\nstyleSheet && document.head.appendChild(styleSheet)\nconst sheet = styleSheet && styleSheet.sheet\n\nlet debug = false\nlet rules = []\nlet count = 0\n\nexport const classPrefix = 'b' + ('000' + ((Math.random() * 46656) | 0).toString(36)).slice(-3) +\n                    ('000' + ((Math.random() * 46656) | 0).toString(36)).slice(-3)\n\nexport function setDebug(d) {\n  debug = d\n}\n\nexport function getSheet() {\n  const content = rules.join('')\n  rules = []\n  return content\n}\n\nexport function insert(rule, index) {\n  rules.push(rule)\n\n  if (debug)\n    return styleSheet.textContent = rules.join('\\n')\n\n  sheet && sheet.insertRule(rule, arguments.length > 1\n    ? index\n    : sheet.cssRules.length\n  )\n}\n\nexport function createClass(style) {\n  const json = JSON.stringify(style)\n\n  if (json in classes)\n    return classes[json]\n\n  const rules = objectToRules(style)\n      , className = classPrefix + (++count)\n\n  for(let i = 0; i < rules.length; i++)\n    insert(rules[i].replace(/\\.\\$/, '.' + className))\n\n  classes[json] = className\n\n  return className\n}\n","import { selectorBlock } from './utils'\nimport { insert, classPrefix } from './sheet'\n\nlet count = 0\nconst keyframeCache = {}\n\nexport default function(props) {\n  const content = Object.keys(props).reduce((acc, key) =>\n    acc + selectorBlock(key, props[key].style || props[key])\n  , '')\n\n  if (content in keyframeCache)\n    return keyframeCache[content]\n\n  const name = classPrefix + ++count\n  keyframeCache[content] = name\n  insert('@keyframes ' + name + '{' + content + '}')\n\n  return name\n}\n","import keyframes from './keyframes'\nimport pseudos from './pseudos'\n\nimport {\n  classPrefix,\n  createClass,\n  setDebug,\n  getSheet,\n  insert\n} from './sheet'\n\nimport {\n  hyphenToCamelCase,\n  vendorValuePrefix,\n  lowercaseFirst,\n  selectorBlock,\n  cssProperties,\n  vendorRegex,\n  formatValue,\n  vendorMap,\n  assign,\n  addPx,\n  short,\n  parse\n} from './utils'\n\nfunction bss(input, value) {\n  assign(bss.style, parse.apply(null, arguments))\n  return chain(bss)\n}\n\nfunction setProp(prop, value) {\n  Object.defineProperty(bss, prop, {\n    configurable: true,\n    value\n  })\n}\n\nObject.defineProperty(bss, 'valueOf', {\n  configurable: true,\n  writable: true,\n  value: function ValueOf() {\n    return '.' + this.class\n  }\n})\n\nbss.style = {}\n\nsetProp('setDebug', setDebug)\n\nsetProp('$keyframes', keyframes)\nsetProp('getSheet', getSheet)\nsetProp('helper', helper)\nsetProp('css', css)\nsetProp('classPrefix', classPrefix)\n\nfunction chain(instance) {\n  const newInstance = Object.create(bss, {\n    style: {\n      value: instance.style,\n      enumerable: true\n    }\n  })\n\n  if (instance === bss)\n    bss.style = {}\n\n  return newInstance\n}\n\ncssProperties.forEach(prop => {\n  const vendor = prop.match(vendorRegex)\n  if (vendor) {\n    const unprefixed = lowercaseFirst(prop.replace(vendorRegex, '$2'))\n    if (cssProperties.indexOf(unprefixed) === -1) {\n      if (unprefixed === 'flexDirection')\n        vendorValuePrefix.flex = '-' + vendor[1].toLowerCase() + '-flex'\n\n      vendorMap[unprefixed] = prop\n      setProp(unprefixed, setter(prop))\n      setProp(short(unprefixed), bss[unprefixed])\n      return\n    }\n  }\n\n  setProp(prop, setter(prop))\n  setProp(short(prop), bss[prop])\n})\n\nsetProp('content', function Content(arg) {\n  this.style.content = '\"' + arg + '\"'\n  return chain(this)\n})\n\nObject.defineProperty(bss, 'class', {\n  set: function(value) {\n    this.__class = value\n  },\n  get: function() {\n    return this.__class || createClass(this.style)\n  }\n})\n\nsetProp('$media', function Media(value, style) {\n  if (value)\n    this.style['@media ' + value] = parse(style)\n\n  return chain(this)\n})\n\nsetProp('$nest', function Nest(value, style) {\n  if (value)\n    this.style[(value.charAt(0) === ':' ? '' : ' ') + value] = parse(style)\n\n  return chain(this)\n})\n\npseudos.forEach(name =>\n  setProp('$' + hyphenToCamelCase(name), function Pseudo(value, b) {\n    if (value || b)\n      this.style[':' + name + (b ? '(' + value + ')' : '')] = parse(b || value)\n    return chain(this)\n  })\n)\n\nfunction setter(prop) {\n  return function CssProperty(value) {\n    if (!value && value !== 0) {\n      delete this.style[prop]\n    } else if (arguments.length > 0) {\n      this.style[prop] = arguments.length === 1\n        ? formatValue(prop, value)\n        : Array.prototype.slice.call(arguments).map(v => addPx(prop, v)).join(' ')\n    }\n\n    return chain(this)\n  }\n}\n\nfunction css(selector, style) {\n  if (arguments.length === 1)\n    return Object.keys(selector).forEach(key => css(key, selector[key]))\n\n  insert(selectorBlock(selector, parse(style)), 0)\n}\n\nfunction helper(name, styling) {\n  if (arguments.length === 1)\n    return Object.keys(name).forEach(key => helper(key, name[key]))\n\n  delete bss[name] // Needed to avoid weird get calls in chrome\n  typeof styling === 'object'\n    ?\n    Object.defineProperty(bss, name, {\n      configurable: true,\n      get: function() {\n        assign(this.style, parse(styling))\n        return chain(this)\n      }\n    })\n    :\n    Object.defineProperty(bss, name, {\n      configurable: true,\n      value: function Helper() {\n        const result = styling.apply(null, arguments)\n        assign(this.style, result.style)\n        return chain(this)\n      }\n    })\n}\n\nbss.helper('$animate', (value, props) =>\n  bss.animation(bss.$keyframes(props) + ' ' + value)\n)\n\nexport default bss\n","export default [\n  'active',\n  'any',\n  'checked',\n  'default',\n  'disabled',\n  'empty',\n  'enabled',\n  'first',\n  'first-child',\n  'first-of-type',\n  'fullscreen',\n  'focus',\n  'hover',\n  'indeterminate',\n  'in-range',\n  'invalid',\n  'last-child',\n  'last-of-type',\n  'left',\n  'link',\n  'only-child',\n  'only-of-type',\n  'optional',\n  'out-of-range',\n  'read-only',\n  'read-write',\n  'required',\n  'right',\n  'root',\n  'scope',\n  'target',\n  'valid',\n  'visited',\n\n  // With value\n  'dir',\n  'lang',\n  'not',\n  'nth-child',\n  'nth-last-child',\n  'nth-last-of-type',\n  'nth-of-type',\n\n  // Elements\n  'after',\n  'before',\n  'first-letter',\n  'first-line',\n  'selection',\n  'backdrop',\n  'placeholder',\n  'marker',\n  'spelling-error',\n  'grammar-error'\n]\n"],"names":["ai","b","bc","br","bs","c","d","f","fd","ff","fs","h","jc","l","lh","ls","m","mb","ml","mr","mt","o","p","pb","pl","pr","pt","r","t","ta","td","tt","w","shorts","Object","create","cssProperties","keys","findWidth","obj","hasOwnProperty","getPrototypeOf","document","documentElement","style","filter","indexOf","const","memoize","fn","cache","item","stringToObject","string","let","prev","last","replace","split","reduce","acc","line","trim","slice","charAt","tokens","length","key","hyphenToCamelCase","shift","a","addPx","vendorMap","vendorValuePrefix","vendorRegex","parse","input","value","styles","Array","isArray","raw","arguments","String","apply","formatValue","appendPx","prop","el","createElement","setProperty","err","flex","assign","obj2","hyphen","match","toUpperCase","short","camelCase","acronym","join","toLowerCase","popular","selectorBlock","selector","k","test","propToString","stylesToCss","isNaN","window","classes","styleSheet","head","appendChild","sheet","debug","rules","count","classPrefix","Math","random","toString","insert","rule","index","push","textContent","insertRule","cssRules","createClass","json","JSON","stringify","objectToRules","base","hasBase","forEach","unshift","className","i","keyframeCache","bss","chain","setProp","defineProperty","configurable","instance","newInstance","enumerable","setter","this","prototype","call","map","v","writable","class","props","content","name","helper","styling","get","result","css","vendor","unprefixed","arg","set","__class","animation","$keyframes"],"mappings":"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"}